

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>avalanche.training.strategies.new_strategy_api package &mdash; Avalanche 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="avalanche.training.strategies.rehearsal package" href="../avalanche.training.strategies.rehearsal/" />
    <link rel="prev" title="avalanche.training.strategies.naive package" href="../avalanche.training.strategies.naive/" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../" class="icon icon-home"> Avalanche
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro/">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../avalanche/">avalanche package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../avalanche/#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../avalanche.benchmarks/">avalanche.benchmarks package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../avalanche.evaluation/">avalanche.evaluation package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../avalanche.extras/">avalanche.extras package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../avalanche.training/">avalanche.training package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../avalanche.training/#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../avalanche.training/#module-avalanche.training">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../avalanche/#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../avalanche/#module-avalanche.constants">avalanche.constants module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../avalanche/#module-avalanche">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../">Avalanche</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../">Docs</a> &raquo;</li>
        
          <li><a href="../avalanche/">avalanche package</a> &raquo;</li>
        
          <li><a href="../avalanche.training/">avalanche.training package</a> &raquo;</li>
        
          <li><a href="../avalanche.training.strategies/">avalanche.training.strategies package</a> &raquo;</li>
        
      <li>avalanche.training.strategies.new_strategy_api package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/api/avalanche.training.strategies.new_strategy_api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="avalanche-training-strategies-new-strategy-api-package">
<h1>avalanche.training.strategies.new_strategy_api package<a class="headerlink" href="#avalanche-training-strategies-new-strategy-api-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="avalanche-training-strategies-new-strategy-api-cl-naive-module">
<h2>avalanche.training.strategies.new_strategy_api.cl_naive module<a class="headerlink" href="#avalanche-training-strategies-new-strategy-api-cl-naive-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="avalanche-training-strategies-new-strategy-api-cl-strategy-module">
<h2>avalanche.training.strategies.new_strategy_api.cl_strategy module<a class="headerlink" href="#avalanche-training-strategies-new-strategy-api-cl-strategy-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="avalanche-training-strategies-new-strategy-api-deep-learning-strategy-module">
<h2>avalanche.training.strategies.new_strategy_api.deep_learning_strategy module<a class="headerlink" href="#avalanche-training-strategies-new-strategy-api-deep-learning-strategy-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="avalanche-training-strategies-new-strategy-api-evaluation-module-module">
<h2>avalanche.training.strategies.new_strategy_api.evaluation_module module<a class="headerlink" href="#avalanche-training-strategies-new-strategy-api-evaluation-module-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-avalanche.training.strategies.new_strategy_api.strategy_flow">
<span id="avalanche-training-strategies-new-strategy-api-strategy-flow-module"></span><h2>avalanche.training.strategies.new_strategy_api.strategy_flow module<a class="headerlink" href="#module-avalanche.training.strategies.new_strategy_api.strategy_flow" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup">
<em class="property">class </em><code class="sig-prename descclassname">avalanche.training.strategies.new_strategy_api.strategy_flow.</code><code class="sig-name descname">FlowGroup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">flow</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow" title="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow">avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow</a></span></em>, <em class="sig-param"><span class="n">elements</span><span class="p">:</span> <span class="n">List<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup" title="avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup">FlowGroup</a><span class="p">, </span>Callable<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">group_name</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">is_loop</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#FlowGroup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class defines a flow group.</p>
<p>Simply put, a flow group contains a sequence of parts that are executed
one after another when the group’s __call__ method is invoked. A FlowGroup
can be  also flagged as a loop, which means that the last element of the
parts sequence controls whenever the loops would stop or continue by
returning True (continue) or False (break). Parts can be class methods
(usually decorated with &#64;TrainingFlow or &#64;TestingFlow) or another FlowGroup.
This means that flow groups are organized in a tree where methods are the
leaves and flow groups are intermediate nodes.</p>
<p>In a StrategyFlow can’t exist parts with duplicate names. A name of a part
is the method name for class methods or the FlowGroup name for FlowGroups.</p>
<p>Creates a new flow group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flow</strong> – The flow this group belongs to.</p></li>
<li><p><strong>elements</strong> – The initial sequence of parts. Parts can be methods
or other FlowGroups. No duplicate names are allowed.</p></li>
<li><p><strong>group_name</strong> – The group name. Must be unique through the entire
StrategyFlow tree.</p></li>
<li><p><strong>is_loop</strong> – If True, the __call__ will loop through the parts
until the last part return False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyChild">
<code class="sig-prename descclassname">avalanche.training.strategies.new_strategy_api.strategy_flow.</code><code class="sig-name descname">StrategyChild</code><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyChild" title="Permalink to this definition">¶</a></dt>
<dd><p>The central part of internal API.</p>
<p>This represents a generic version of type ‘origin’ with type arguments ‘params’.
There are two kind of these aliases: user defined and special. The special ones
are wrappers around builtin collections and ABCs in collections.abc. These must
have ‘name’ always set. If ‘inst’ is False, then the alias can’t be instantiated,
this is used by e.g. typing.List and typing.Dict.</p>
<p>alias of Union[FlowGroup, Callable]</p>
</dd></dl>

<dl class="py data">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyChildId">
<code class="sig-prename descclassname">avalanche.training.strategies.new_strategy_api.strategy_flow.</code><code class="sig-name descname">StrategyChildId</code><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyChildId" title="Permalink to this definition">¶</a></dt>
<dd><p>The central part of internal API.</p>
<p>This represents a generic version of type ‘origin’ with type arguments ‘params’.
There are two kind of these aliases: user defined and special. The special ones
are wrappers around builtin collections and ABCs in collections.abc. These must
have ‘name’ always set. If ‘inst’ is False, then the alias can’t be instantiated,
this is used by e.g. typing.List and typing.Dict.</p>
<p>alias of Union[FlowGroup, Callable, str]</p>
</dd></dl>

<dl class="py class">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow">
<em class="property">class </em><code class="sig-prename descclassname">avalanche.training.strategies.new_strategy_api.strategy_flow.</code><code class="sig-name descname">StrategyFlow</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self_ref</span><span class="p">:</span> <span class="n">Any</span></em>, <em class="sig-param"><span class="n">flow_name</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">root_group_name</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#StrategyFlow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Implementation of a strategy flow.</p>
<p>A strategy flow describes the parts of a Continual Learning strategy.
A parts is usually implemented as a class method of a strategy class.
Parts can be joined in named groups, which makes it easier to define the
flow and compose parts in higher-level nodes. Also, groups can be used to
create loops (usually used to describe epochs or testing steps).</p>
<p>Considering that parts are strategy class methods, parts are commonly used
as callback mechanism (for instance “before_training”,
“after_training_epoch”, etc.).</p>
<p>Parts and groups can’t be duplicated inside a flow.</p>
<p>The two default flows are the training and testing flows, which are found
in every strategy. Methods belonging to the training flow must be
annotated using the &#64;TrainingFlow decorator while methods belonging to the
testing flow must be annotated with the &#64;TestingFlow decorator. A method
can be annotated with more than a flow decorator at the same time.</p>
<p>Each strategy can also define submodules. Submodules are commonly used to
modularize common reusable Continual Learning patterns such as multi-head
management, rehearsal (a.k.a. replay), distillation, … or even to attach
the desired metrics system (accuracy, time, ram usage, confusion matrices,
…).</p>
<p>The StrategyFlow is a callable object that, when executed, runs the
described parts sequentially. Each call to the training flow executes an
incremental training step on a “batch” (or “task”) of new data while the
testing flow will run an evaluation loop on the test sets. A strategy should
implement the desired training and testing procedures as parts.</p>
<p>Each part, being a class method, can define method parameters as usual.
The flow will inject the correct parameter values by looking at different
locations:</p>
<blockquote>
<div><ul class="simple">
<li><p>first, a parameter with the same name is searched in the arguments</p></li>
</ul>
<p>passed to the flow. Considering that a strategy part can call other
parts (to provide a callback or to obtain results), parameters passed to
previous method calls in the stack are searched for, too. The collection
of those values is called “arguments namespace”;
- second, a global flow namespace exists where each part may publish its
results. These values are stored and used for parameter injection and,
like the arguments passed to the flow, they are discarded after each
flow execution. Those values form the “results namespace”. The good part
of it is that this namespace is shared with submodules, which makes it
easier to modularize some common behaviours. When a part publishes a
result, values with the same name found in the first group are
discarded;
- third, fields of the strategy class or any of its attached submodules
are searched for. This is called “self namespace”. It goes without
saying, those are the only namespace values that are persisted across
different flow executions. Fields starting with “_” are not considered.
Also, fields whose values are instances of “StrategyFlow” or “FlowGroup”
are not considered, as they would pollute the namespace.</p>
</div></blockquote>
<p>All those values form a global namespace. For values with the same, elements
or the first group take precedence over the ones in the second group. Values
from the second group take precedence over the ones in the last group. This
means that</p>
<p>This mechanism ensures that any part can have total visibility over the
state of the strategy.</p>
<p>Creates a flow group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self_ref</strong> – The reference to the object this flow belongs to. This
is usually the the strategy (or the submodule) object.</p></li>
<li><p><strong>flow_name</strong> – The name of the flow.</p></li>
<li><p><strong>root_group_name</strong> – The name of the root group.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.add_part_change_listener">
<code class="sig-name descname">add_part_change_listener</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">part_change_listener</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#StrategyFlow.add_part_change_listener"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.add_part_change_listener" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a flow listener.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>part_change_listener</strong> – The flow listener to attach. The listener
will receive a callback each time a part is executed.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.add_strategy_module">
<code class="sig-name descname">add_strategy_module</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">module</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#StrategyFlow.add_strategy_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.add_strategy_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a submodule to the strategy.</p>
<p>This will check the submodule for a flow with the same name. If a flow
with the same name can’t be found, an exception is raised. The flow
found in the submodule is then instrumented to consider this instance as
the root flow.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>module</strong> – The added submodule.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.append_new_group">
<code class="sig-name descname">append_new_group</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group_name</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">parts</span><span class="p">:</span> <span class="n">Sequence<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup" title="avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup">FlowGroup</a><span class="p">, </span>Callable<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">is_loop</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">to_group</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup" title="avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup">FlowGroup</a><span class="p">, </span>Callable<span class="p">, </span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">after_part</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup" title="avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup">FlowGroup</a><span class="p">, </span>Callable<span class="p">, </span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">at_beginning</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#StrategyFlow.append_new_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.append_new_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new flow group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group_name</strong> – The group name.</p></li>
<li><p><strong>parts</strong> – A list of initial parts belonging to the group. Can be
an empty list.</p></li>
<li><p><strong>is_loop</strong> – If True, the group will be flagged as a loop, which
means that its parts will be executed in a loop until the last
part returns False.</p></li>
<li><p><strong>to_group</strong> – Appends the newly created group to the group described
(by name or reference) by this parameter. Defaults to None, which
means that the root group is used.</p></li>
<li><p><strong>after_part</strong> – If not None, the group will be appended after
the given part/group (described by name or reference).</p></li>
<li><p><strong>at_beginning</strong> – If True, the group will be appended at the
beginning of the group. Defaults to False, which means that the
group will be appended at the end. Can’t be True at the same time
of the “after_part” parameter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The new group</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.append_part_list">
<code class="sig-name descname">append_part_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parts</span><span class="p">:</span> <span class="n">Sequence<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup" title="avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup">FlowGroup</a><span class="p">, </span>Callable<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">to_group</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup" title="avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup">FlowGroup</a><span class="p">, </span>Callable<span class="p">, </span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">after_part</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup" title="avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup">FlowGroup</a><span class="p">, </span>Callable<span class="p">, </span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">at_beginning</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#StrategyFlow.append_part_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.append_part_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends a list of parts to a flow group.</p>
<p>A flow group is a sequence of parts semantically tied together. For
instance “TrainingEpoch”. Parts in a group are executed sequentially.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parts</strong> – A list of parts to append to an existing group.</p></li>
<li><p><strong>to_group</strong> – The name of object reference to the group. Defaults to
the root group.</p></li>
<li><p><strong>after_part</strong> – If not None, the parts list will be appended after
the given part/group (described by name or reference).</p></li>
<li><p><strong>at_beginning</strong> – If True, the parts will be appended at the
beginning of the group. Defaults to False, which means that parts
will be appended at the end. Can’t be True at the same time of the
“after_part” parameter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.extract_self_namespace">
<code class="sig-name descname">extract_self_namespace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#StrategyFlow.extract_self_namespace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.extract_self_namespace" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts the “self namespace” from the strategy object and any of its
submodules. The namespace is then usually searched for when injecting
parameter values of the parts.</p>
<p>Simply put, the “self namespace” is the collection of class fields
belonging to the strategy object and any of its submodules. Fields
starting with and underscore “_” will be ignored. For more info, refer
to the class documentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary containing the self namespace.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.get_flattened_kwargs">
<code class="sig-name descname">get_flattened_kwargs</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span><a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#StrategyFlow.get_flattened_kwargs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.get_flattened_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the “arguments namespace”. This dictionary is then usually
searched for when injecting parameter values of the parts.</p>
<p>For more info refer to the class documentation.</p>
<p>This method looks at the whole call stack on previous strategy parts
to gather all previous named parameters. Their values are then flattened
(giving priority at values from the most recent call) in the single
dictionary returned my this method.</p>
<p>Not all parameter from previous part calls are included:</p>
<ul class="simple">
<li><p>Only parameters of part calls from the current call <em>stack</em> are
included, which means that parameters from part calls that already
returned are not included.</p></li>
<li><p>Positional only parameters are not included, while “positional
or keyword” or “keyword only” parameters are included.</p></li>
<li><p>When the “result namespace” is updated using
“update_results_namespace”, any element of the “arguments namespace”
with a name included in the update dictionary is eliminated (because
part results take precedence over parameters from the call stack).
For instance, consider a part that receives as an input a batch,
executes a data augmentation procedure and returns it. Let’s call
this value “train_batch”. It wouldn’t make sense if, after that part
call, the value of “train_batch” pointed to its previous,
non-augmented, version. This is why result values take precedence
over values from the arguments namespace.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The “arguments namespace”. That is, a dictionary of keyword
arguments form previous (stack) part calls.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.get_results_namespace">
<code class="sig-name descname">get_results_namespace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#StrategyFlow.get_results_namespace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.get_results_namespace" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the “results namespace”. The namespace is then usually searched
for when injecting parameter values of the parts.</p>
<p>The results namespace is the namespace containing all the results
published from any part of the strategy or its submodules. This
namespace is cleaned up after each flow execution.</p>
<p>For a result to be stored in the “results namespace”, the part must
publish it using the “update_results_namespace” method. However, it is
recommended to use the “update_namespace” method provided by class
<code class="xref py py-class docutils literal notranslate"><span class="pre">StrategySkeleton</span></code>, which is easier to use.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary containing the results namespace.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.get_strategy_submodules">
<code class="sig-name descname">get_strategy_submodules</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#StrategyFlow.get_strategy_submodules"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.get_strategy_submodules" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of strategy submodules.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of submodules.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.is_running">
<code class="sig-name descname">is_running</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#StrategyFlow.is_running"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.is_running" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if this flow is running.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if this flow is running, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.is_submodule_flow">
<code class="sig-name descname">is_submodule_flow</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#StrategyFlow.is_submodule_flow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.is_submodule_flow" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if this is a flow belonging to a submodule.</p>
<p>That is, this returns True if a root flow is set.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if this is a submodule flow, False if it’s the main
strategy object flow.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.pop_kwargs">
<code class="sig-name descname">pop_kwargs</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#StrategyFlow.pop_kwargs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.pop_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>Pops keyword arguments.</p>
<p>This is usually automatically done when returning from a part decorated
for the current flow. This updates the “arguments namespace”.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.push_kwargs">
<code class="sig-name descname">push_kwargs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args_dict</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#StrategyFlow.push_kwargs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.push_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>Pushes keyword arguments.</p>
<p>This is usually automatically done when calling a part decorated
for the current flow. This updates the “arguments namespace”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>args_dict</strong> – The keyword arguments.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.remove_part">
<code class="sig-name descname">remove_part</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">part_name</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference internal" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup" title="avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup">FlowGroup</a><span class="p">, </span>Callable<span class="p">, </span>str<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#StrategyFlow.remove_part"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.remove_part" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a part (or group) from the flow.</p>
<p>The part will be searched in any flow sub-group.
:param part_name: The part name or reference.
:return: The removed part.</p>
</dd></dl>

<dl class="py method">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.remove_part_change_listener">
<code class="sig-name descname">remove_part_change_listener</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">part_change_listener</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#StrategyFlow.remove_part_change_listener"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.remove_part_change_listener" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a flow listener.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>part_change_listener</strong> – The flow listener to remove.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.replace_part">
<code class="sig-name descname">replace_part</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">part_name</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference internal" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup" title="avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup">FlowGroup</a><span class="p">, </span>Callable<span class="p">, </span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">replacement</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference internal" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup" title="avalanche.training.strategies.new_strategy_api.strategy_flow.FlowGroup">FlowGroup</a><span class="p">, </span>Callable<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#StrategyFlow.replace_part"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.replace_part" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces a part with another.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>part_name</strong> – The part (by name or reference) to replace.</p></li>
<li><p><strong>replacement</strong> – The replacement.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The replaced part.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.set_root_flow">
<code class="sig-name descname">set_root_flow</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">root_flow</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#StrategyFlow.set_root_flow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.set_root_flow" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the root flow.</p>
<p>When a root flow is set, the current flow will delegate any operation
to the root flow. This usually happens in submodules, where the root
flow is the strategy one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>root_flow</strong> – The root flow.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.signal_internal_traceback">
<code class="sig-name descname">signal_internal_traceback</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tb</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#StrategyFlow.signal_internal_traceback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.signal_internal_traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a traceback object to the ignore list.</p>
<p>This is usually done to prevent the traceback from showing a huge list
of internal decorator calls.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tb</strong> – The traceback object to be ignored.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.update_results_namespace">
<code class="sig-name descname">update_results_namespace</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">update_dict</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#StrategyFlow.update_results_namespace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyFlow.update_results_namespace" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the “results namespace”.</p>
<p>For a result to be stored in the “results namespace”, the part must
publish it using this method. However, it is recommended to use the
“update_namespace” method provided by class <code class="xref py py-class docutils literal notranslate"><span class="pre">StrategySkeleton</span></code>,
which is easier to use.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>update_dict</strong> – The dictionary or named tuple to merge in the
results namespace.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyPart">
<code class="sig-prename descclassname">avalanche.training.strategies.new_strategy_api.strategy_flow.</code><code class="sig-name descname">StrategyPart</code><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.StrategyPart" title="Permalink to this definition">¶</a></dt>
<dd><p>Callable type; Callable[[int], str] is a function of (int) -&gt; str.</p>
<p>The subscription syntax must always be used with exactly two
values: the argument list and the return type.  The argument list
must be a list of types or ellipsis; the return type must be a single type.</p>
<p>There is no syntax to indicate optional or keyword arguments,
such function types are rarely used as callback types.</p>
<p>alias of Callable</p>
</dd></dl>

<dl class="py function">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.TestingFlow">
<code class="sig-prename descclassname">avalanche.training.strategies.new_strategy_api.strategy_flow.</code><code class="sig-name descname">TestingFlow</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em><span class="sig-paren">)</span><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.TestingFlow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.TrainingFlow">
<code class="sig-prename descclassname">avalanche.training.strategies.new_strategy_api.strategy_flow.</code><code class="sig-name descname">TrainingFlow</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em><span class="sig-paren">)</span><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.TrainingFlow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="avalanche.training.strategies.new_strategy_api.strategy_flow.make_strategy_part_decorator">
<code class="sig-prename descclassname">avalanche.training.strategies.new_strategy_api.strategy_flow.</code><code class="sig-name descname">make_strategy_part_decorator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">flow_field</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/avalanche/training/strategies/new_strategy_api/strategy_flow/#make_strategy_part_decorator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#avalanche.training.strategies.new_strategy_api.strategy_flow.make_strategy_part_decorator" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory for a strategy part decorator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>flow_field</strong> – The name of the decorator.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A decorator that can be used to decorate class methods.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-contents">
<h2>Module contents<a class="headerlink" href="#module-contents" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../avalanche.training.strategies.rehearsal/" class="btn btn-neutral float-right" title="avalanche.training.strategies.rehearsal package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../avalanche.training.strategies.naive/" class="btn btn-neutral float-left" title="avalanche.training.strategies.naive package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, ContinualAI Research

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>